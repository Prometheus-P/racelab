@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   Pretendard Font - 전체 weight 지원
   ============================================================================= */

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Thin.woff2') format('woff2');
  font-weight: 100;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-ExtraLight.woff2') format('woff2');
  font-weight: 200;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Light.woff2') format('woff2');
  font-weight: 300;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Regular.woff2') format('woff2');
  font-weight: 400;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Medium.woff2') format('woff2');
  font-weight: 500;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Bold.woff2') format('woff2');
  font-weight: 700;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-ExtraBold.woff2') format('woff2');
  font-weight: 800;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Black.woff2') format('woff2');
  font-weight: 900;
  font-display: swap;
}

/* =============================================================================
   RaceLab Design System V1.0 - Global Styles
   핵심 원칙: CLARITY (명확성), BALANCE (균형), COMFORT (편안함)
   ============================================================================= */

:root {
  /* ==========================================================================
     Light Theme (Default)
     ========================================================================== */

  /* Neutral Colors - 배경 및 텍스트 */
  --rl-background: #ffffff;
  --rl-background-dim: #f4f4f5;
  --rl-background-elevated: #ffffff;
  --rl-text-primary: #27272a;
  --rl-text-secondary: #71717a;
  --rl-text-tertiary: #a1a1aa;
  --rl-border: #d4d4d8;
  --rl-divider: #e4e4e7;
  --rl-table-row-alt: #f4f4f5;

  /* Surface Colors */
  --rl-surface: #ffffff;
  --rl-surface-container: #f4f4f5;
  --rl-surface-container-low: #fafafa;
  --rl-surface-container-high: #e4e4e7;
  --rl-on-surface: #27272a;
  --rl-on-surface-variant: #71717a;

  /* Primary Colors - 로고 기반 (채도 유지) */
  --rl-horse: #81c784; /* Sage Green - 경마 */
  --rl-horse-light: #c8e6c9;
  --rl-horse-dark: #66bb6a;
  --rl-horse-container: #e8f5e9;
  --rl-horse-on-container: #2e7d32;

  --rl-cycle: #e57373; /* Soft Coral - 경륜 */
  --rl-cycle-light: #ffcdd2;
  --rl-cycle-dark: #ef5350;
  --rl-cycle-container: #ffebee;
  --rl-cycle-on-container: #c62828;

  --rl-boat: #64b5f6; /* Steel Blue - 경정 */
  --rl-boat-light: #bbdefb;
  --rl-boat-dark: #42a5f5;
  --rl-boat-container: #e3f2fd;
  --rl-boat-on-container: #1565c0;

  /* TradingView 스타일 금융 컬러 (WCAG AA 대비율 충족) */
  --rl-bullish: #00897b; /* 상승 (4.5:1 대비율) */
  --rl-bearish: #d32f2f; /* 하락 (5.5:1 대비율) */

  /* Status Colors */
  --rl-success: #81c784;
  --rl-success-bg: #e8f5e9;
  --rl-success-text: #2e7d32;
  --rl-warning: #ffb74d;
  --rl-warning-bg: #fff8e1;
  --rl-warning-text: #f57c00;
  --rl-error: #e57373;
  --rl-error-bg: #ffebee;
  --rl-error-text: #c62828;
  --rl-info: #64b5f6;
  --rl-info-bg: #e3f2fd;
  --rl-info-text: #1565c0;

  /* Elevation (Box Shadow) */
  --rl-shadow-1: 0 1px 3px 0 rgb(0 0 0 / 0.08);
  --rl-shadow-2: 0 2px 6px 0 rgb(0 0 0 / 0.1);
  --rl-shadow-3: 0 4px 12px 0 rgb(0 0 0 / 0.12);
  --rl-shadow-4: 0 8px 24px 0 rgb(0 0 0 / 0.14);

  /* State Layers */
  --rl-state-hover: rgb(0 0 0 / 0.08);
  --rl-state-focus: rgb(0 0 0 / 0.12);
  --rl-state-pressed: rgb(0 0 0 / 0.12);

  /* Link Colors */
  --rl-link: #1565c0;
  --rl-link-hover: #0d47a1;

  /* Legacy support */
  --foreground-rgb: 39, 39, 42;
  --background-rgb: 255, 255, 255;

  /* Color Scheme */
  color-scheme: light;
}

/* =============================================================================
   Dark Theme
   ============================================================================= */

.dark {
  /* Neutral Colors - 다크 배경 및 텍스트 */
  --rl-background: #121212;
  --rl-background-dim: #1e1e1e;
  --rl-background-elevated: #2d2d2d;
  --rl-text-primary: #e4e4e7;
  --rl-text-secondary: #a1a1aa;
  --rl-text-tertiary: #71717a;
  --rl-border: #3f3f46;
  --rl-divider: #27272a;
  --rl-table-row-alt: #1e1e1e;

  /* Surface Colors - 다크 */
  --rl-surface: #1e1e1e;
  --rl-surface-container: #2d2d2d;
  --rl-surface-container-low: #1a1a1a;
  --rl-surface-container-high: #3f3f46;
  --rl-on-surface: #e4e4e7;
  --rl-on-surface-variant: #a1a1aa;

  /* Primary Colors - 다크모드에서 밝기 조정 */
  --rl-horse: #a5d6a7; /* Sage Green - 밝게 */
  --rl-horse-light: #81c784;
  --rl-horse-dark: #c8e6c9;
  --rl-horse-container: #1b3a1e;
  --rl-horse-on-container: #a5d6a7;

  --rl-cycle: #ef9a9a; /* Soft Coral - 밝게 */
  --rl-cycle-light: #e57373;
  --rl-cycle-dark: #ffcdd2;
  --rl-cycle-container: #3d1a1a;
  --rl-cycle-on-container: #ef9a9a;

  --rl-boat: #90caf9; /* Steel Blue - 밝게 */
  --rl-boat-light: #64b5f6;
  --rl-boat-dark: #bbdefb;
  --rl-boat-container: #1a2f3d;
  --rl-boat-on-container: #90caf9;

  /* TradingView 스타일 금융 컬러 - 다크모드 */
  --rl-bullish: #4db6ac; /* 상승 - 밝게 */
  --rl-bearish: #ef5350; /* 하락 - 밝게 */

  /* Status Colors - 다크모드 */
  --rl-success: #a5d6a7;
  --rl-success-bg: #1b3a1e;
  --rl-success-text: #a5d6a7;
  --rl-warning: #ffcc80;
  --rl-warning-bg: #3d2e1a;
  --rl-warning-text: #ffcc80;
  --rl-error: #ef9a9a;
  --rl-error-bg: #3d1a1a;
  --rl-error-text: #ef9a9a;
  --rl-info: #90caf9;
  --rl-info-bg: #1a2f3d;
  --rl-info-text: #90caf9;

  /* Elevation - 다크모드에서는 밝은 그림자 */
  --rl-shadow-1: 0 1px 3px 0 rgb(0 0 0 / 0.3);
  --rl-shadow-2: 0 2px 6px 0 rgb(0 0 0 / 0.4);
  --rl-shadow-3: 0 4px 12px 0 rgb(0 0 0 / 0.5);
  --rl-shadow-4: 0 8px 24px 0 rgb(0 0 0 / 0.6);

  /* State Layers - 다크모드 */
  --rl-state-hover: rgb(255 255 255 / 0.08);
  --rl-state-focus: rgb(255 255 255 / 0.12);
  --rl-state-pressed: rgb(255 255 255 / 0.12);

  /* Link Colors - 다크모드 */
  --rl-link: #90caf9;
  --rl-link-hover: #bbdefb;

  /* Legacy support */
  --foreground-rgb: 228, 228, 231;
  --background-rgb: 18, 18, 18;

  /* Color Scheme */
  color-scheme: dark;
}

/* System preference auto-detection */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    /* Neutral Colors - 다크 배경 및 텍스트 */
    --rl-background: #121212;
    --rl-background-dim: #1e1e1e;
    --rl-background-elevated: #2d2d2d;
    --rl-text-primary: #e4e4e7;
    --rl-text-secondary: #a1a1aa;
    --rl-text-tertiary: #71717a;
    --rl-border: #3f3f46;
    --rl-divider: #27272a;
    --rl-table-row-alt: #1e1e1e;

    /* Surface Colors - 다크 */
    --rl-surface: #1e1e1e;
    --rl-surface-container: #2d2d2d;
    --rl-surface-container-low: #1a1a1a;
    --rl-surface-container-high: #3f3f46;
    --rl-on-surface: #e4e4e7;
    --rl-on-surface-variant: #a1a1aa;

    /* Primary Colors - 다크모드에서 밝기 조정 */
    --rl-horse: #a5d6a7;
    --rl-horse-light: #81c784;
    --rl-horse-dark: #c8e6c9;
    --rl-horse-container: #1b3a1e;
    --rl-horse-on-container: #a5d6a7;

    --rl-cycle: #ef9a9a;
    --rl-cycle-light: #e57373;
    --rl-cycle-dark: #ffcdd2;
    --rl-cycle-container: #3d1a1a;
    --rl-cycle-on-container: #ef9a9a;

    --rl-boat: #90caf9;
    --rl-boat-light: #64b5f6;
    --rl-boat-dark: #bbdefb;
    --rl-boat-container: #1a2f3d;
    --rl-boat-on-container: #90caf9;

    /* TradingView 스타일 금융 컬러 - 다크모드 */
    --rl-bullish: #4db6ac;
    --rl-bearish: #ef5350;

    /* Status Colors - 다크모드 */
    --rl-success: #a5d6a7;
    --rl-success-bg: #1b3a1e;
    --rl-success-text: #a5d6a7;
    --rl-warning: #ffcc80;
    --rl-warning-bg: #3d2e1a;
    --rl-warning-text: #ffcc80;
    --rl-error: #ef9a9a;
    --rl-error-bg: #3d1a1a;
    --rl-error-text: #ef9a9a;
    --rl-info: #90caf9;
    --rl-info-bg: #1a2f3d;
    --rl-info-text: #90caf9;

    /* Elevation - 다크모드 */
    --rl-shadow-1: 0 1px 3px 0 rgb(0 0 0 / 0.3);
    --rl-shadow-2: 0 2px 6px 0 rgb(0 0 0 / 0.4);
    --rl-shadow-3: 0 4px 12px 0 rgb(0 0 0 / 0.5);
    --rl-shadow-4: 0 8px 24px 0 rgb(0 0 0 / 0.6);

    /* State Layers - 다크모드 */
    --rl-state-hover: rgb(255 255 255 / 0.08);
    --rl-state-focus: rgb(255 255 255 / 0.12);
    --rl-state-pressed: rgb(255 255 255 / 0.12);

    /* Link Colors - 다크모드 */
    --rl-link: #90caf9;
    --rl-link-hover: #bbdefb;

    /* Legacy support */
    --foreground-rgb: 228, 228, 231;
    --background-rgb: 18, 18, 18;

    /* Color Scheme */
    color-scheme: dark;
  }
}

/* Monospace font for financial data */
.font-mono {
  font-family: var(--font-jetbrains-mono), 'JetBrains Mono', 'Fira Code', Consolas, monospace;
}

body {
  color: var(--rl-text-primary);
  background: var(--rl-background);
  font-family:
    'Pretendard',
    -apple-system,
    BlinkMacSystemFont,
    system-ui,
    sans-serif;
  font-size: 16px;
  line-height: 1.5;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* =============================================================================
   경마/경륜/경정 색상 테마
   ============================================================================= */

.theme-horse {
  --theme-color: var(--rl-horse);
  --theme-container: var(--rl-horse-container);
  --theme-on-container: var(--rl-horse-on-container);
}

.theme-cycle {
  --theme-color: var(--rl-cycle);
  --theme-container: var(--rl-cycle-container);
  --theme-on-container: var(--rl-cycle-on-container);
}

.theme-boat {
  --theme-color: var(--rl-boat);
  --theme-container: var(--rl-boat-container);
  --theme-on-container: var(--rl-boat-on-container);
}

/* =============================================================================
   배당률/데이터 표시 - ExtraBold + tabular-nums
   ============================================================================= */

.odds,
.data-value {
  font-variant-numeric: tabular-nums;
  font-weight: 800;
  text-align: right;
}

.odds-up {
  color: var(--rl-bearish);
}

.odds-down {
  color: var(--rl-bullish);
}

/* =============================================================================
   카드 스타일 - 부드러운 그림자
   ============================================================================= */

.card {
  @apply rounded-rl-lg border p-6;
  background: var(--rl-surface);
  border-color: var(--rl-border);
  box-shadow: var(--rl-shadow-1);
}

.card-hover {
  @apply transition-shadow duration-rl-normal ease-rl-standard;
}

.card-hover:hover {
  box-shadow: var(--rl-shadow-3);
}

/* =============================================================================
   배지 스타일 - 새 컬러 시스템
   ============================================================================= */

.badge {
  @apply inline-flex items-center rounded-full px-3 py-1 text-label-medium font-medium;
}

.badge-horse {
  background-color: var(--rl-horse-container);
  color: var(--rl-horse-on-container);
}

.badge-cycle {
  background-color: var(--rl-cycle-container);
  color: var(--rl-cycle-on-container);
}

.badge-boat {
  background-color: var(--rl-boat-container);
  color: var(--rl-boat-on-container);
}

/* =============================================================================
   상태 배지 스타일 - 최소 48px 터치 영역
   ============================================================================= */

.status-badge {
  @apply inline-flex min-h-touch items-center gap-2 rounded-full px-4 py-2 text-label-medium font-semibold;
}

.status-live {
  background-color: var(--rl-warning-bg);
  color: var(--rl-warning-text);
  border: 1px solid var(--rl-warning);
}

.status-live::before {
  content: '';
  @apply h-2 w-2 animate-pulse rounded-full;
  background-color: var(--rl-warning);
}

.status-upcoming {
  background-color: var(--rl-info-bg);
  color: var(--rl-info-text);
  border: 1px solid var(--rl-info);
}

.status-completed {
  background-color: var(--rl-surface-container);
  color: var(--rl-text-secondary);
  border: 1px solid var(--rl-border);
}

.status-cancelled {
  background-color: var(--rl-error-bg);
  color: var(--rl-error-text);
  border: 1px solid var(--rl-error);
}

/* =============================================================================
   버튼 스타일 - 둥근 모서리, 최소 48px 높이
   ============================================================================= */

.btn {
  @apply inline-flex items-center justify-center gap-2;
  @apply min-h-touch px-6 py-3;
  @apply text-body-medium font-semibold;
  @apply rounded-rl-md;
  @apply transition-all duration-rl-fast ease-rl-standard;
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
}

/* Primary Button - Soft Coral (CTA) */
.btn-primary {
  @apply bg-cycle text-white;
  @apply hover:bg-cycle-dark;
  @apply focus:ring-cycle;
}

/* Secondary Button - Steel Blue */
.btn-secondary {
  @apply bg-boat text-white;
  @apply hover:bg-boat-dark;
  @apply focus:ring-boat;
}

/* Outlined Button */
.btn-outlined {
  @apply border-2 bg-transparent;
  @apply border-neutral-border text-on-surface;
  @apply hover:bg-surface-dim;
  @apply focus:ring-neutral-border;
}

/* =============================================================================
   데이터 테이블 - Zebra Stripes, 우측 정렬 숫자
   ============================================================================= */

.table-race {
  @apply w-full text-body-medium;
}

.table-race thead {
  background-color: var(--rl-surface-container);
}

.table-race th {
  @apply px-4 py-3 text-left font-semibold;
  color: var(--rl-text-primary);
}

.table-race th.numeric {
  text-align: right;
}

.table-race tbody tr {
  @apply min-h-touch;
}

/* Zebra Stripes */
.table-race tbody tr:nth-child(even) {
  background-color: var(--rl-table-row-alt);
}

.table-race tbody tr:nth-child(odd) {
  background-color: var(--rl-surface);
}

.table-race td {
  @apply px-4 py-3;
  border-bottom: 1px solid var(--rl-divider);
}

/* 숫자 데이터 우측 정렬 */
.table-race td.numeric,
.table-race th.numeric {
  @apply text-right font-extrabold;
  font-variant-numeric: tabular-nums;
}

/* =============================================================================
   로딩 스피너 - 브랜드 컬러
   ============================================================================= */

.spinner {
  @apply h-6 w-6 animate-spin rounded-full;
  border: 3px solid var(--rl-divider);
  border-top-color: var(--rl-cycle);
}

/* =============================================================================
   REDUCED MOTION SUPPORT (접근성)
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* =============================================================================
   STATE LAYERS (인터랙티브 요소)
   ============================================================================= */

/* Hover state layer (8% opacity) */
.state-layer-hover:hover {
  background-color: var(--rl-state-hover);
}

/* Focus state layer (12% opacity) */
.state-layer-focus:focus {
  background-color: var(--rl-state-focus);
}

/* Pressed state layer (12% opacity) */
.state-layer-pressed:active {
  background-color: var(--rl-state-pressed);
}

/* =============================================================================
   FOCUS RING (접근성)
   ============================================================================= */

.focus-ring:focus-visible {
  outline: 2px solid var(--theme-color, #e57373);
  outline-offset: 2px;
}

/* =============================================================================
   ANIMATIONS - 차트 로딩 (우상향 메시지)
   ============================================================================= */

.animate-fade-in-up {
  animation: fade-in-up 400ms cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-grow-up {
  animation: grow-up 600ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes grow-up {
  0% {
    transform: scaleY(0);
    transform-origin: bottom;
  }
  100% {
    transform: scaleY(1);
    transform-origin: bottom;
  }
}

/* =============================================================================
   LINK STYLES - Steel Blue
   ============================================================================= */

a {
  color: var(--rl-link);
  text-decoration: none;
  transition: color 150ms ease;
}

a:hover {
  color: var(--rl-link-hover);
  text-decoration: underline;
}

a:focus-visible {
  outline: 2px solid var(--rl-boat);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Navigation links - no underline */
nav a:hover {
  text-decoration: none;
}

/* =============================================================================
   DARK MODE OVERRIDES - bg-white 및 하드코딩된 색상 대응
   ============================================================================= */

/* bg-white를 다크모드에서 surface 색상으로 변환 */
.dark .bg-white {
  background-color: var(--rl-surface) !important;
}

/* text-black을 다크모드에서 적절한 텍스트 색상으로 변환 */
.dark .text-black {
  color: var(--rl-text-primary) !important;
}

/* border-gray-xxx를 다크모드에서 적절한 border 색상으로 변환 */
.dark .border-gray-100,
.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: var(--rl-border) !important;
}

/* bg-gray-xxx를 다크모드에서 적절한 배경 색상으로 변환 */
.dark .bg-gray-50,
.dark .bg-gray-100 {
  background-color: var(--rl-surface-container) !important;
}

.dark .bg-gray-200,
.dark .bg-gray-300 {
  background-color: var(--rl-surface-container-high) !important;
}

/* text-gray-xxx를 다크모드에서 적절한 텍스트 색상으로 변환 */
.dark .text-gray-500,
.dark .text-gray-600 {
  color: var(--rl-text-secondary) !important;
}

.dark .text-gray-700,
.dark .text-gray-800,
.dark .text-gray-900 {
  color: var(--rl-text-primary) !important;
}

/* divide-gray-xxx를 다크모드에서 적절한 divider 색상으로 변환 */
.dark .divide-gray-100 > :not([hidden]) ~ :not([hidden]),
.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: var(--rl-divider) !important;
}
